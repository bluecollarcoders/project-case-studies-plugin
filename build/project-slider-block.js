(()=>{"use strict";const e=window.wp.blocks,t=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":3,"name":"project-case-studies/timeline-slider","title":"Project Timeline Slider","category":"widgets","icon":"slides","description":"A strict 4â€‘slide carousel","supports":{"html":false,"anchor":true,"color":{"text":true}},"attributes":{"slides":{"type":"array","default":[{"imageUrl":"","imageId":0,"title":"","copy":""},{"imageUrl":"","imageId":0,"title":"","copy":""},{"imageUrl":"","imageId":0,"title":"","copy":""},{"imageUrl":"","imageId":0,"title":"","copy":""}]},"autoplay":{"type":"boolean","default":false},"textColor":{"type":"string"},"titleTransform":{"type":"string","default":"none"}},"editorScript":"project-slider-block","editorStyle":"project-slider-block","script":"project-slider-frontend","style":"project-slider-frontend","textdomain":"project-case-studies"}'),l=window.wp.i18n,s=window.wp.blockEditor,i=window.wp.components,o=window.ReactJSXRuntime;(0,e.registerBlockType)(t.name,{...t,edit:function({attributes:e,setAttributes:t}){const{slides:a,autoplay:r}=e,c=(0,s.useBlockProps)({className:"project-timeline-slider-editor"}),n=(e,l,s)=>{const i=[...a];i[e]={...i[e],[l]:s},t({slides:i})};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(s.InspectorControls,{children:[(0,o.jsx)(i.PanelBody,{title:(0,l.__)("Carousel Settings","project-case-studies"),children:(0,o.jsx)(i.ToggleControl,{label:(0,l.__)("Autoplay","project-case-studies"),checked:r,onChange:e=>t({autoplay:e})})}),(0,o.jsx)(s.PanelColorSettings,{title:(0,l.__)("Text Color","project-case-studies"),initialOpen:!0,colorSettings:[{value:e.textColor,onChange:e=>t({textColor:e}),label:(0,l.__)("Slider Title Color","project-case-studies")}]}),(0,o.jsx)(i.PanelBody,{title:"Text Transform",initialOpen:!1,children:(0,o.jsx)(i.SelectControl,{label:"Title Transform",value:e.titleTransform,options:[{label:"None",value:"none"},{label:"Uppercase",value:"uppercase"},{label:"Lowercase",value:"lowercase"}],onChange:e=>t({titleTransform:e})})})]}),(0,o.jsx)("div",{...c,children:a.map(((r,c)=>(0,o.jsxs)("div",{className:"timeline-slide-editor",children:[(0,o.jsx)(s.MediaUploadCheck,{children:(0,o.jsx)(s.MediaUpload,{allowedTypes:["image"],value:r.imageId,onSelect:e=>{const l=[...a];l[c]={...l[c],imageUrl:e.url,imageId:e.id},t({slides:l})},render:({open:e})=>(0,o.jsx)(i.Button,{onClick:e,isSecondary:!0,children:r.imageUrl?(0,o.jsx)("img",{src:r.imageUrl,alt:(0,l.__)("Slide image","project-case-studies"),style:{maxWidth:"100%"}}):(0,l.__)("Select Image","project-case-studies")})})}),(0,o.jsx)(s.RichText,{tagName:"h3",placeholder:(0,l.__)("Slide Title...","project-case-studies"),value:r.title,onChange:e=>n(c,"title",e),allowedFormats:["core/bold","core/italic","core/text-color"],style:{color:e.textColor,textTransform:e.titleTransform}}),(0,o.jsx)(s.RichText,{tagName:"p",placeholder:(0,l.__)("Slide Copy...","project-case-studies"),value:r.copy,onChange:e=>n(c,"copy",e),allowedFormats:["core/bold","core/italic","core/text-color"],style:{color:e.textColor,textTransform:e.titleTransform}})]},c)))})]})},save:function({attributes:e}){const{slides:t,autoplay:l,textColor:i,titleTransform:a}=e,r=s.useBlockProps.save({className:"project-timeline-slider","data-autoplay":l?"true":"false"});return(0,o.jsx)("div",{...r,children:t.map(((e,t)=>(0,o.jsxs)("div",{className:"timeline-slide",children:[e.imageUrl&&(0,o.jsx)("img",{className:"timeline-slide__image",src:e.imageUrl,alt:e.title||""}),(0,o.jsx)(s.RichText.Content,{tagName:"h3",className:"timeline-slide__title",value:e.title,style:{color:i,textTransform:a}}),(0,o.jsx)(s.RichText.Content,{tagName:"p",className:"timeline-slide__copy",value:e.copy})]},t)))})}})})();